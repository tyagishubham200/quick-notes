Here is **Section 9: Web APIs & Browser Features** with explanations and examples.  

---

# **9. Web APIs & Browser Features**  

JavaScript can interact with browser APIs to enhance functionality, store data, and handle network requests. This section covers key Web APIs such as Fetch, Web Storage, IndexedDB, and Service Workers.  

---

## **9.1 Fetch API**  

The **Fetch API** is used to make network requests (GET, POST, etc.) in JavaScript. It is **asynchronous** and returns a **Promise**.

### **Basic GET Request**  
```javascript
fetch('https://jsonplaceholder.typicode.com/posts/1')
    .then(response => response.json()) // Convert response to JSON
    .then(data => console.log(data)) // âœ… Display response data
    .catch(error => console.error("Fetch error:", error));
```
âœ… **Why Use Fetch?**  
- **Simpler than XMLHttpRequest**  
- **Supports Promises & Async/Await**  
- **Can handle JSON responses easily**  

### **Using `async/await` with Fetch**  
```javascript
async function getData() {
    try {
        let response = await fetch('https://jsonplaceholder.typicode.com/posts/1');
        let data = await response.json();
        console.log(data);
    } catch (error) {
        console.error("Fetch error:", error);
    }
}
getData();
```

### **POST Request with JSON Data**  
```javascript
fetch('https://jsonplaceholder.typicode.com/posts', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ title: 'New Post', body: 'This is content.' })
})
.then(response => response.json())
.then(data => console.log("Created:", data));
```

âœ… **Important Fetch Concepts**  
- **`response.ok`** â†’ Check if request was successful  
- **`response.json()`** â†’ Convert response to JSON  
- **Error handling with `catch`**  

---

## **9.2 Web Storage API (localStorage, sessionStorage)**  

The Web Storage API lets JavaScript store key-value pairs in the browser.

| Feature | `localStorage` | `sessionStorage` |
|---------|---------------|------------------|
| **Data Persistence** | Permanent | Until tab closes |
| **Capacity** | 5MB+ | 5MB+ |
| **Access Scope** | Across all tabs | Only current tab |

### **Using `localStorage`**  
```javascript
localStorage.setItem('username', 'JohnDoe');
console.log(localStorage.getItem('username')); // âœ… "JohnDoe"
localStorage.removeItem('username'); // Remove specific item
localStorage.clear(); // Clear all stored data
```

### **Using `sessionStorage`**  
```javascript
sessionStorage.setItem('sessionID', 'abc123');
console.log(sessionStorage.getItem('sessionID')); // âœ… "abc123"
```
âœ… **Use Cases**  
- `localStorage` â†’ Save user settings, tokens  
- `sessionStorage` â†’ Store temporary session data  

---

## **9.3 IndexedDB**  

IndexedDB is a **NoSQL database** inside the browser for **large structured data** storage.

### **Opening a Database**
```javascript
let request = indexedDB.open('MyDatabase', 1);
request.onsuccess = event => {
    let db = event.target.result;
    console.log("Database opened:", db);
};
```

### **Creating an Object Store**
```javascript
request.onupgradeneeded = event => {
    let db = event.target.result;
    let store = db.createObjectStore('users', { keyPath: 'id' });
    store.createIndex('name', 'name', { unique: false });
};
```

âœ… **Why Use IndexedDB?**  
- Stores **structured data** (like JSON objects)  
- Works **offline**  
- More powerful than `localStorage`  

---

## **9.4 Service Workers**  

Service Workers allow **offline caching**, **background sync**, and **push notifications**.

### **Registering a Service Worker**
```javascript
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js')
    .then(() => console.log("Service Worker Registered"))
    .catch(error => console.log("Registration failed:", error));
}
```

### **Service Worker File (`sw.js`)**
```javascript
self.addEventListener('install', event => {
    console.log("Service Worker Installed");
});

self.addEventListener('fetch', event => {
    console.log("Intercepting request for:", event.request.url);
});
```

âœ… **Benefits of Service Workers**  
- **Offline capabilities** (Cache API)  
- **Background sync**  
- **Push notifications**  

---

### **Summary Table**  

| API | Use Case | Example |
|-----|---------|---------|
| **Fetch API** | Network requests (GET, POST, etc.) | `fetch(url).then(res => res.json())` |
| **localStorage** | Permanent key-value storage | `localStorage.setItem('key', 'value')` |
| **sessionStorage** | Temporary session data | `sessionStorage.getItem('key')` |
| **IndexedDB** | Large structured storage | `indexedDB.open('DB', 1)` |
| **Service Workers** | Offline caching & background sync | `navigator.serviceWorker.register('/sw.js')` |

---

This concludes **Section 9: Web APIs & Browser Features**. âœ…  

Would you like me to continue with **Section 10: JavaScript Event Loop & Concurrency**? ðŸš€